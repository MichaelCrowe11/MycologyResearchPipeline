{% extends 'base.html' %}

{% block title %}Research Membership Plans{% endblock %}

{% block content %}
<div class="container my-5">
    <h1 class="mb-4">Research Membership Plans</h1>

    <div class="row mb-4">
        <div class="col-md-12">
            <div class="alert alert-info">
                <i class="fas fa-info-circle me-2"></i> Choose the plan that best fits your research needs. Upgrade anytime as your requirements grow.
            </div>
        </div>
    </div>

    <!-- Research Value Proposition -->
    <div class="row mb-5">
        <div class="col-md-12">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <h4 class="text-primary"><i class="fas fa-microscope me-2"></i>Accelerate Your Mycology Research</h4>
                    <p class="lead">Our platform helps researchers identify promising medicinal compounds with greater speed and accuracy than traditional methods.</p>

                    <div class="row mt-4">
                        <div class="col-md-4">
                            <div class="d-flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-chart-line fa-2x text-success"></i>
                                </div>
                                <div class="ms-3">
                                    <h5>80% Time Savings</h5>
                                    <p class="mb-0">Automated analysis reduces research time by up to 80% compared to traditional methods.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="d-flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-search fa-2x text-success"></i>
                                </div>
                                <div class="ms-3">
                                    <h5>35% More Compounds</h5>
                                    <p class="mb-0">Our AI analysis helps identify 35% more potential medicinal compounds.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="d-flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-flask fa-2x text-success"></i>
                                </div>
                                <div class="ms-3">
                                    <h5>90% Publication Rate</h5>
                                    <p class="mb-0">Researchers using our platform have a 90% publication success rate.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        {% for tier_id, tier in membership_tiers.items() %}
        <div class="col-md-4 mb-4">
            <div class="card h-100 {% if tier_id == current_tier %}border-primary{% else %}shadow-sm{% endif %}">
                <div class="card-header {% if tier_id == current_tier %}bg-primary text-white{% endif %}">
                    <h4 class="my-0">{{ tier.name }}</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <h2 class="card-title pricing-card-title">${{ tier.price }}<small class="text-muted fw-light">/mo</small></h2>

                    <div class="badge bg-success mb-3">ROI: {% if tier_id == 'basic' %}4.2x{% elif tier_id == 'pro' %}6.8x{% else %}9.5x{% endif %}</div>

                    <ul class="list-unstyled mt-3 mb-4">
                        {% for feature in tier.features %}
                        <li><i class="fas fa-check text-success me-2"></i> {{ feature }}</li>
                        {% endfor %}
                    </ul>
                    <div class="mt-auto">
                        {% if tier_id == current_tier %}
                        <button class="btn btn-outline-primary w-100" disabled>Current Plan</button>
                        {% else %}
                        <form action="{{ url_for('payment.create_checkout_session') }}" method="POST">
                            <input type="hidden" name="tier" value="{{ tier_id }}">
                            <button type="submit" class="btn btn-primary w-100">Select Plan</button>
                        </form>
                        {% endif %}
                    </div>
                </div>
                <div class="card-footer bg-white">
                    <small class="text-muted">
                        {% if tier_id == 'basic' %}
                        Perfect for individual researchers
                        {% elif tier_id == 'pro' %}
                        Ideal for research teams
                        {% else %}
                        Best for institutions & universities
                        {% endif %}
                    </small>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Case Studies -->
    <div class="row mt-5 mb-5">
        <div class="col-12">
            <h3 class="mb-4">Success Stories</h3>
        </div>
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title">University of Helsinki Research Team</h5>
                    <p class="card-text"><em>"Using the Mycology Research Pipeline, we identified 3 novel compounds with promising antimicrobial properties in just 2 months, compared to our previous timeline of 8-12 months."</em></p>
                    <footer class="blockquote-footer mt-2">Dr. Sofia JÃ¤rvinen, Lead Researcher</footer>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title">BioPharma Solutions Inc.</h5>
                    <p class="card-text"><em>"The ROI on our Pro subscription has been exceptional. We've accelerated our screening process by 65% and doubled our promising lead compounds."</em></p>
                    <footer class="blockquote-footer mt-2">James Chen, Research Director</footer>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h4>Membership FAQ</h4>
                </div>
                <div class="card-body">
                    <div class="accordion" id="membershipFaq">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    How do I upgrade my membership?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#membershipFaq">
                                <div class="accordion-body">
                                    Simply select the plan you want to upgrade to and complete the checkout process. Your new membership benefits will be activated immediately upon successful payment.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Can I downgrade my membership?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#membershipFaq">
                                <div class="accordion-body">
                                    Yes, you can downgrade your membership at any time through the customer portal. The changes will take effect at the end of your current billing cycle.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Is there a free trial available?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#membershipFaq">
                                <div class="accordion-body">
                                    Yes, new users can access basic features for 14 days to experience the platform before committing to a paid plan.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    Are there discounts for academic institutions?
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#membershipFaq">
                                <div class="accordion-body">
                                    Yes, we offer special pricing for educational and research institutions. Contact our sales team for more information.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}